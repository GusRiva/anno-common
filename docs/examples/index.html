<!DOCTYPE html>
<html>
  <head>
    <script src="dist/anno.js"></script>
  </head>
  <body>
<script>
  window.ANNO_LOGLEVEL = 'silly'

// const token = 123
// const store = new Anno.HttpStore()
// store.use((ctx, cb) => { ctx.token = token; cb() })

  const dump = (...args) => console.log(...args)

  function testBasicAuth() {
    window.ANNO_BASICAUTH_USERNAME = 'john'
    window.ANNO_BASICAUTH_PASSWORD = 'p4ssw0rd'
    var basicAuth = Anno.BasicAuthMiddleware()
    var store = new Anno.HttpStore()
    store.use(basicAuth)
    return store
  }

  function testHttpHeaders() {
    window.ANNO_HTTPHEADERS = 'Authorization: Bearer MY-TOKEN'
    var httpHeaders = Anno.HttpHeadersMiddleware()
    var store = new Anno.HttpStore()
    store.use(httpHeaders)
    return store
  }
</script>
  </body>
</html>
